<html>
<head>
  <title>Ember Music Player</title>
  <link rel="stylesheet" type="text/css" href="css/app.css">
</head>
<body>
  Surrounding app. The whole Ember app is contained on the following div:

  <div id="music-player-app">

  </div>

  <script type="text/x-handlebars">
    <h1>Music Player</h1>
    {{outlet}}

    <footer>
      {{#link-to 'index'}}Home{{/link-to}}
    </footer>
  </script>

  <script type="text/x-handlebars" data-template-name="index">
    <ul>
      {{#each}}
        <li>{{#link-to 'song' this}}{{name}}{{/link-to}} [by {{#link-to 'artist' artist}}{{artist.name}}{{/link-to}}]</li>
      {{/each}}
    </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="song">
    <h2>{{name}}</h2>
    <h3>{{#link-to 'artist' artist}}{{artist.name}}{{/link-to}}</h3>

    {{cover-art mbid=mbid}}

    <audio controls {{bind-attr src=path}}></audio>

    {{render 'comments' comments}}
    {{partial 'comment/new'}}
  </script>

  <script type="text/x-handlebars" data-template-name="artist">
    {{#each song in songs}}
      {{#link-to 'song' song}}{{song.name}}{{/link-to}}
    {{/each}}
  </script>

  <script type="text/x-handlebars" data-template-name="components/cover-art">
    <img {{bind-attr src=coverArtPath}}/>
  </script>

  <script type="text/x-handlebars" data-template-name="comments">
    {{#each}}
      <div>
        By: {{username}}
        <p>
          {{content}}
        </p>
      </div>
    {{/each}}
  </script>

  <script type="text/x-handlebars" data-template-name="comment/new">
    <div>
      <label>
        Username:
        {{input value=newComment.username}}
      </label>
    </div>
    <div>
      <label>
        Comment:
        {{textarea value=newComment.content}}
      </label>
    </div>
    <button {{action 'saveComment'}}>Send</button>
  </script>

  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.5.1.js"></script>
  <script src="js/libs/ember-data.js"></script>

  <script src="js/application.js"></script>
  <script src="js/router.js"></script>

  <script src="js/models/song.js"></script>
  <script src="js/models/artist.js"></script>
  <script src="js/models/comment.js"></script>

  <script src="js/controllers/song_controller.js"></script>

  <script src="js/components/cover-art.js"></script>
</body>
</html>
